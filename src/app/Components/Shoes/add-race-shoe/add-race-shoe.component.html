<div class="d-flex" id="wrapper">

    <!-- The sidebar -->
<div class="sidebar">
    <div class="sidebarNoLists" *ngIf="noShoes else displayShoes">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <!-- <th>{{user.firstName}}'s Lists</th> -->
                    <th><h3>User's Shoes</h3></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>You currently have no Racing Shoes Saved</td>
                </tr>
            </tbody>
        </table>
    </div>

    <ng-template #displayShoes>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <!-- <th>{{user.firstName}}'s Lists</th> -->
                    <th>User's Shoes</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let shoe of userShoes">
                    <td><a [routerLink]="['/shoe-detail', shoe.shoeId]">{{shoe.brand}} {{shoe.model}}</a></td>
                </tr>
            </tbody>
        </table>
    </ng-template>
  </div>

  <div class="flex-container">
    <div class="container">
        <div class="panel-heading">
            <h2 class="panel-title">Add a New Shoe To Your Closet</h2>
        </div>

        <!-- <div *ngIf="loading" class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div> -->

        <form [formGroup]="newShoeForm" (ngSubmit)="onSubmit()">
            <div class="panel panel-default">
                
                <div class="panel-body">
                    <div class="form-row">
                        
                        
                        <label class="form-label" for="brand">Shoe Brand:*</label>
                        <input id="brand" formControlName="brand" type="text" class="form-control" placeholder="Brand Name" [ngClass]="{'is-invalid': form.brand.errors && (form.brand.touched || form.brand.dirty)}">
                        <div *ngIf="form.brand.errors && (form.brand.touched || form.brand.dirty)" class="invalid-feedback">
                            <div *ngIf='form.brand.errors.required'>*A Shoe Brand is Required</div>    
                        </div>
        
                        
                        <label class="form-label" for="model">Shoe Model:*</label>
                        <input id="model" formControlName="model" type="text" class="form-control" placeholder="Model" [ngClass]="{'is-invalid': form.model.errors && (form.model.touched || form.model.dirty)}">
                        <div *ngIf="form.model.errors && (form.model.touched || form.model.dirty)" class="invalid-feedback">
                            <div *ngIf='form.model.errors.required'>*A Shoe Model is Required</div>
                        </div> 
              
                        
                        <label class="form-label" for="numOfMiles">Current Number Of Miles:*</label>
                        <input id="numOfMiles" formControlName="numOfMiles" type="text" class="form-control" placeholder="Current Miles" [ngClass]="{'is-invalid': form.numOfMiles.errors && (form.numOfMiles.touched || form.numOfMiles.dirty)}">
                        <div *ngIf="form.numOfMiles.errors && (form.numOfMiles.touched || form.numOfMiles.dirty)" class="invalid-feedback">
                            <div *ngIf='form.numOfMiles.errors.required'>*Please Enter the Number of Miles on the Shoe</div>
                        </div>

                        <label class="form-label" for="maxMiles">Max Number Of Miles: (Optional)</label>
                        <input id="maxMiles" formControlName="maxMiles" type="text" class="form-control" placeholder="Maximum Miles" [ngClass]="{'is-invalid': form.maxMiles.errors && (form.maxMiles.touched || form.maxMiles.dirty)}">
                        <div *ngIf="form.maxMiles.errors && (form.maxMiles.touched || form.maxMiles.dirty)" class="invalid-feedback">
                            <div *ngIf='form.maxMiles.errors.required'>*Please Enter the Number of Miles on the Shoe</div>
                        </div>

                        <label class="form-label" for="beginUse">Begin Shoe Use:*</label>
                        <input type="date" formControlName="beginUse" class="form-control" id="beginUse" placeholder="yyyy-mm-dd" [ngClass]="{'is-invalid': form.beginUse.errors && (form.beginUse.touched || form.beginUse.dirty)}">
                        <div *ngIf="form.beginUse.errors && (form.beginUse.touched || form.beginUse.dirty)" class="invalid-feedback">
                            <div *ngIf='form.beginUse.errors.required'>*A Shoe Use Start Date is Required</div>
                        </div> 

                        
                        <label class="form-label" for="flexRadioDefault">Shoe Status*:</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="shoeStatus" value=true id="active" checked (change)="changeStatus($event)">
                            <div class="form-check-label" for="flexRadioDefault1">
                                Active
                            </div>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="shoeStatus" value=false id="retired" (change)="changeStatus($event)"> 
                            <div class="form-check-label" for="flexRadioDefault2">
                                Retired
                            </div>
                        </div>

                        
                        <label for="shoeDescription" class="form-label">Shoe Description: (Optional)</label>
                        <textarea id="shoeDescription" formControlName="shoeDescription" rows="3" class="form-control" placeholder="Optional Description"></textarea>
                        
                        <div *ngIf="formNotValid" class="formNotValid">
                            *Please enter all required fields before submitting
                        </div>  
                    </div>
                </div>
                
                    <div class="form-group">                 
                        <div class="form-row grid-container btns">
                            <button type="submit" class="btn btn-success">Register</button>
                            <span id="cancelBtn"><button type="button" class="btn btn-warning" (click)="mainShoesRoute()">Cancel</button></span>
                        </div>
                    </div>
            </div>
        </form>
    </div>
</div> 
